---
layout: base
pagination:
  data: collections.categories
  size: 1
  alias: category
permalink: "category/{{ category.slug }}/index.html"
eleventyComputed:
  title: "Категория {{ category.name }} — {{ site.name }}"
  description: "Профили специалистов в категории {{ category.name }}"
  seo_og_title: "Категория {{ category.name }} — {{ site.name }}"
  seo_og_description: "Профили специалистов в категории {{ category.name }}"
  seo_og_image: "{{ site.url }}/img/og-image.png"
  seo_og_url: "{{ site.url }}/category/{{ category.slug }}"
  seo_twitter_title: "Категория {{ category.name }} — {{ site.name }}"
  seo_twitter_description: "Профили специалистов в категории {{ category.name }}"
  seo_twitter_image: "{{ site.url }}/img/og-image.png"
  seo_canonical: "{{ site.url }}/category/{{ category.slug }}"
  seo_json_ld: |
    {
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "Категория {{ category.name }} — {{ site.name }}",
      "description": "Профили специалистов в категории {{ category.name }}",
      "url": "{{ site.url }}/category/{{ category.slug }}",
      "mainEntity": {
        "@type": "ItemList",
        "itemListElement": [
          {% for profile in category.profiles %}
          {
            "@type": "ListItem",
            "position": {{ forloop.index }},
            "item": {
              "@type": "Person",
              "name": "{{ profile.name | escape }}",
              "jobTitle": "{{ profile.category | escape }}",
              "address": { "@type": "PostalAddress", "addressLocality": "{{ profile.city | escape }}" },
              "image": "https://res.cloudinary.com/{{ site.cloudinary_cloud_name }}/image/upload/w_600,h_400,c_fill,q_auto,f_webp/{{ profile.image_url }}",
              "url": "{{ site.url }}/profiles/{{ profile.name | slugify }}/"
            }
          }{% unless forloop.last %},{% endunless %}
          {% endfor %}
        ]
      }
    }
  breadcrumb_json_ld: |
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        { "@type": "ListItem", "position": 1, "name": "Главная", "item": "{{ site.url }}/" },
        { "@type": "ListItem", "position": 2, "name": "Категории", "item": "{{ site.url }}/category/" },
        { "@type": "ListItem", "position": 3, "name": "{{ category.name | escape }}", "item": "{{ site.url }}/category/{{ category.slug }}/" }
      ]
    }
---

<h1>Категория {{ category.name }}</h1>

<div id="profile-list" class="profiles">
  {% for profile in category.profiles %}
    <article class="profile-card">
      <img
        class="profile-card__image"
        width="300"
        height="200"
        src="https://res.cloudinary.com/{{ site.cloudinary_cloud_name }}/image/upload/w_300,h_200,c_fill,q_auto,f_webp/{{ profile.image_url }}"
        srcset="
          https://res.cloudinary.com/{{ site.cloudinary_cloud_name }}/image/upload/w_150,h_100,c_fill,q_auto,f_webp/{{ profile.image_url }} 150w,
          https://res.cloudinary.com/{{ site.cloudinary_cloud_name }}/image/upload/w_300,h_200,c_fill,q_auto,f_webp/{{ profile.image_url }} 300w,
          https://res.cloudinary.com/{{ site.cloudinary_cloud_name }}/image/upload/w_600,h_400,c_fill,q_auto,f_webp/{{ profile.image_url }} 600w
        "
        sizes="(max-width: 600px) 150px, (max-width: 1200px) 300px, 600px"
        alt="Фото профиля {{ profile.name | escape }} ({{ profile.category | escape }})"
        loading="lazy"
      />
      <div class="profile-card__description">
        <h3>{{ profile.name }}</h3>
        <p>{{ profile.city | default: "Регион не указан" }}, {{ profile.category | default: "Категория не указана" }}</p>
        <a href="/profiles/{{ profile.name | slugify }}/" aria-label="Подробнее о {{ profile.name }}">Подробнее</a>
      </div>
    </article>
  {% endfor %}
</div>
