<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index, follow" />

   <title>Добавить профиль — ModelConnect Miami</title>
  <meta name="description" content="Добавьте свой профиль модели, фотографа или стилиста на платформу ModelConnect Miami.">
    <!-- Open Graph -->
  <meta property="og:title" content="Добавить профиль — ModelConnect Miami">
  <meta property="og:site_name" content="ModelConnect Miami" />
  <meta property="og:locale" content="ru_RU" />
  <meta property="og:description" content="Создайте профиль на платформе для профессионалов fashion-индустрии.">
  <meta property="og:image" content="https://models-connect.netlify.app/img/og-image-main.webp/img/og-image-main.webp">
  <meta property="og:url" content="https://models-connect.netlify.app/add-profile">
  <meta property="og:type" content="website">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Добавить профиль — ModelConnect Miami">
  <meta name="twitter:description" content="Создайте профиль на платформе для профессионалов fashion-индустрии.">
  <meta name="twitter:image" content="https://models-connect.netlify.app/img/og-image-main.webp/img/og-image-main.webp">

  <!-- Canonical -->
  <link rel="canonical" href="https://models-connect.netlify.app/add-profile/add-profile/">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="https://models-connect.netlify.app/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="https://models-connect.netlify.app/img/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://models-connect.netlify.app/img/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://models-connect.netlify.app/img/favicon-16x16.png" />
  <link rel="manifest" href="https://models-connect.netlify.app/img/site.webmanifest" />
  <link rel="stylesheet" href="https://models-connect.netlify.app/css/style.css">

  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    
      "name": "Добавить профиль — ModelConnect Miami",
      "description": "Добавьте свой профиль модели, фотографа или стилиста на платформу ModelConnect Miami.",
      "url": "https://models-connect.netlify.app/add-profile/",
      "mainEntity": {
        "@type": "ItemList",
        "itemListElement": [
          
          {
            "@type": "ListItem",
            "position": 1,
            "item": {
              "@type": "Person",
              "name": "Ivan",
              "jobTitle": "Фотограф",
              "address": { "@type": "PostalAddress", "addressLocality": "Халландейл" },
              "image": "https://res.cloudinary.com/dimallvw3/image/upload/v1757334343/ca1h3mnfjw2vr8c4v2rq.jpg/img/placeholder.png",
              "url": "https://models-connect.netlify.app/profiles/af25b537-8bf5-46c5-85e2-ef50e7c74b41/"
            }
          },
          
          {
            "@type": "ListItem",
            "position": 2,
            "item": {
              "@type": "Person",
              "name": "John",
              "jobTitle": "Стилист",
              "address": { "@type": "PostalAddress", "addressLocality": "Майами-Бич" },
              "image": "https://res.cloudinary.com/dimallvw3/image/upload/v1757334399/mh6ejrpmv7xdm4i2ueae.jpg/img/placeholder.png",
              "url": "https://models-connect.netlify.app/profiles/83455fd6-193d-4b96-9e24-ed9160cab722/"
            }
          },
          
          {
            "@type": "ListItem",
            "position": 3,
            "item": {
              "@type": "Person",
              "name": "Kate",
              "jobTitle": "Модель",
              "address": { "@type": "PostalAddress", "addressLocality": "Корал-Гейблс" },
              "image": "https://res.cloudinary.com/dimallvw3/image/upload/v1757334441/cbjxr8libhlfmdthwekt.jpg/img/placeholder.png",
              "url": "https://models-connect.netlify.app/profiles/a411a3c2-d0db-420d-8a2e-778d95724200/"
            }
          },
          
          {
            "@type": "ListItem",
            "position": 4,
            "item": {
              "@type": "Person",
              "name": "Maria",
              "jobTitle": "Стилист",
              "address": { "@type": "PostalAddress", "addressLocality": "Халландейл" },
              "image": "https://res.cloudinary.com/dimallvw3/image/upload/v1757334488/szmq04q6ze5lrgaudkpr.jpg/img/placeholder.png",
              "url": "https://models-connect.netlify.app/profiles/53345958-12d5-492d-b15a-e4d0fc406c72/"
            }
          },
          
          {
            "@type": "ListItem",
            "position": 5,
            "item": {
              "@type": "Person",
              "name": "Nika",
              "jobTitle": "Модель",
              "address": { "@type": "PostalAddress", "addressLocality": "Майами-Бич" },
              "image": "https://res.cloudinary.com/dimallvw3/image/upload/v1757334629/idprxxfkwdmbsqw6mlqt.jpg/img/placeholder.png",
              "url": "https://models-connect.netlify.app/profiles/e5720766-b43c-4a2d-941d-2b6826a811d8/"
            }
          },
          
          {
            "@type": "ListItem",
            "position": 6,
            "item": {
              "@type": "Person",
              "name": "Tim",
              "jobTitle": "Фотограф",
              "address": { "@type": "PostalAddress", "addressLocality": "Корал-Гейблс" },
              "image": "https://res.cloudinary.com/dimallvw3/image/upload/v1757334672/agvnwemqynntxfc5ku5e.jpg/img/placeholder.png",
              "url": "https://models-connect.netlify.app/profiles/b4fe21c6-ee77-4ed8-a36b-5ed1453024d6/"
            }
          }
          
        ]
      }
    
  }
  </script>

</head>
<body>

  <nav>
    <ul class="nav-list">
      <li><a href="/">Главная</a></li>
      <li><a href="/region/">Регионы</a></li>
      <li><a href="/category/">Категории</a></li>
      <li><a href="/add-profile/">Добавить профиль</a></li>
    </ul>
  </nav>

  <main>
    <script>
const form = document.querySelector("form");
form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const data = {
    name: form.name.value,
    city: form.city.value,
    category: form.category.value,
    description: form.description.value,
    age: form.age.value,
    email: form.email.value,
    phone: form.phone.value,
    image: "/img/placeholder.png"
  };

  const res = await fetch("/.netlify/functions/add-profile", {
    method: "POST",
    body: JSON.stringify(data),
  });

  if (res.ok) {
    window.location.href = "/submit-profile/";
  } else {
    alert("Ошибка при отправке формы");
  }
});
</script>
<script type="module">

  async function cloudinaryUpload(file) {
    const form = new FormData();
    form.append('file', file);
    form.append('upload_preset', 'unsigned_profiles');
    const res = await fetch('https://api.cloudinary.com/v1_1/dimallvw3/upload', {
      method: 'POST',
      body: form
    });
    const data = await res.json();
    if (!res.ok) throw new Error('Cloudinary upload failed: ' + JSON.stringify(data));
    return data.secure_url;
  }

  document.querySelector('#add-profile-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    const fd = new FormData(form);
    const name = fd.get('name');


    let image_url = '';
    const file = fd.get('image');
    if (file && file.size) {
      try {
        image_url = await cloudinaryUpload(file);
      } catch (err) {
        alert('Ошибка загрузки изображения: ' + err.message);
        return;
      }
    }

    const payload = {
      name,
      city: fd.get('city'),
      category: fd.get('category'),
      description: fd.get('description'),
      age: fd.get('age'),
      email: fd.get('email'),
      phone: fd.get('phone'),
      image_url
    };


    const resp = await fetch('/.netlify/functions/add-profile', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });

    if (!resp.ok) {
      const text = await resp.text();
      alert('Ошибка сервера: ' + text);
      return;
    }

    const result = await resp.json();
    alert('Профиль добавлен!');
    form.reset();
  });
</script>

<div class="add-profile-section">
  <h1>Добавить профиль</h1>
  <form name="add-profile"
      method="POST"
      netlify
    action="/.netlify/functions/add-profile"
     id="add-profile-form"
      enctype="multipart/form-data">
  <input type="hidden" name="form-name" value="add-profile" />

  <div class="form-group">
    <label for="name">Имя:</label>
    <input type="text" id="name" name="name" required />
  </div>

  <div class="form-group">
    <label for="city">Город:</label>
    <select id="city" name="city" required>
      <option value="Майами-Бич">Майами-Бич</option>
      <option value="Халландейл">Халландейл</option>
      <option value="Корал-Гейблс">Корал-Гейблс</option>
    </select>
  </div>

  <div class="form-group">
    <label for="category">Категория:</label>
    <select id="category" name="category" required>
      <option value="Модель">Модель</option>
      <option value="Фотограф">Фотограф</option>
      <option value="Стилист">Стилист</option>
    </select>
  </div>

  <div class="form-group">
    <label for="description">Описание:</label>
    <textarea id="description" name="description" required></textarea>
  </div>

  <div class="form-group">
    <label for="age">Возраст:</label>
    <input type="number" id="age" name="age" required />
  </div>

  <div class="form-group">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required />
  </div>

  <div class="form-group">
    <label for="phone">Телефон (опционально):</label>
    <input type="tel" id="phone" name="phone" />
  </div>

  <div class="form-group">
    <label for="image">Фото профиля:</label>
    <input type="file" name="image" accept="image/*" required />
    <p class="form-note">Рекомендуемый размер: 300x300px, формат: JPG, PNG, WEBP.</p>
  </div>

  <button type="submit">Отправить</button>
</form>

</div>


  </main>

  <footer class="site-footer">
    <p>© 2025 ModelConnect Miami</p>
  </footer>

</body>
</html>
